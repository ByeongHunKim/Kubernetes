# reference
- https://m.blog.naver.com/alice_k106/221511412970

## scheduler 가  pod를 배정해줄 때 노드를 고르는 원리가 무엇이냐는 질문에 대해서 답변하지 못했다

- 쿠버네티스 스케줄러는 파드(Pod)를 적절한 노드(Node)에 배치하는 중요한 역할을 담당합니다. 
- 이 과정은 몇 가지 주요 단계를 거치며, 각 단계는 파드를 실행할 최적의 노드를 찾기 위해 설계되었습니다. 
- 스케줄링 과정은 크게 "필터링(Filtering)"과 "스코어링(Scoring)"의 두 단계로 나눌 수 있습니다.

### 필터링 단계
노드 필터링: 스케줄러는 먼저 모든 노드를 대상으로 필터링 과정을 수행합니다. 이 단계에서는 파드를 실행하기에 적합하지 않은 노드를 제거합니다. 여기에는 리소스 요구사항(예: CPU, 메모리), 노드 셀렉터(Node Selector) 레이블, 테인트(Taints)와 톨러레이션(Tolerations), 어피니티(Affinity)와 안티-어피니티(Anti-Affinity) 규칙 등이 고려됩니다.

적합한 노드 선택: 필터링을 통과한 노드들은 파드 요구사항을 충족시키므로, 이제 파드를 실행할 수 있는 후보 노드들의 집합이 준비됩니다.

### 스코어링 단계
노드 스코어링: 필터링을 통과한 각 노드에 대해 스케줄러는 여러 스코어링 규칙을 적용하여 점수를 매깁니다. 이 과정에서는 노드의 리소스 사용량, 파드의 어피니티 규칙, 노드의 다양성 등 다양한 요소가 고려됩니다. 목적은 최적의 리소스 활용과 균형 잡힌 로드 분배를 달성하는 것입니다.

최적의 노드 선택: 모든 후보 노드가 스코어링을 받은 후, 가장 높은 점수를 받은 노드가 선택됩니다. 이 노드에 파드가 배치되며, 배치 과정은 스케줄러에 의해 자동으로 진행됩니다.

쿠버네티스 스케줄러의 이러한 과정은 클러스터의 리소스를 효율적으로 사용하고, 파드가 요구하는 조건을 충족하는 노드에 적절히 배치되도록 보장합니다. 이는 시스템의 전반적인 성능과 안정성을 유지하는 데 중요한 역할을 합니다.

### Q1. 쿠버네티스 스케줄러의 어피니티와 안티-어피니티 규칙에 대해 더 자세히 알려줄 수 있나요?

### Q2. 스케줄러가 리소스 요구사항을 어떻게 평가하는지 구체적인 예시를 들어 설명해줄 수 있나요?

### Q3. 쿠버네티스 클러스터에서 스케줄링의 효율성을 높이기 위해 어떤 전략을 사용할 수 있나요?



